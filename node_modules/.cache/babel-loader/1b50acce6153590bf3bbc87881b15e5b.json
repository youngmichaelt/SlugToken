{"ast":null,"code":"var _jsxFileName = \"/Users/michaelyoung/repos/slugsite/src/Interactions.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from 'react';\nimport { ethers } from 'ethers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Interactions = props => {\n  _s();\n\n  const [txnHash, setTxnHash] = useState();\n  const [allowance, setAllowance] = useState();\n  const [selfAllowance, setSelfAllowance] = useState();\n  const [ApproveOrStake, setApproveOrStake] = useState();\n  const [stakeBalance, setStakeBalance] = useState();\n  let contract = props.contract.contract;\n  let defaultAccount = props.contract.defaultAccount;\n  let provider = props.contract.provider;\n\n  const approveOrStake = async () => {\n    let contractAddress = await contract.address;\n    let allowance = await contract.allowance(defaultAccount, contractAddress);\n    let allowanceBalance = allowance * Math.pow(10, 18);\n    setAllowance(allowanceBalance);\n    let selfAllowance = await contract.allowance(defaultAccount, defaultAccount);\n    let selfAllowanceBalance = selfAllowance * Math.pow(10, 18);\n    setSelfAllowance(selfAllowanceBalance);\n\n    if (allowanceBalance > 0 && selfAllowanceBalance > 0) {\n      setApproveOrStake(\"Stake\");\n    } else {\n      setApproveOrStake(\"Approve\");\n    }\n  };\n\n  const getStakeBalance = async () => {\n    let isStakeHolder = false;\n    let stakeId = 0;\n\n    if (defaultAccount instanceof Array) {\n      [isStakeHolder, stakeId] = await contract.isStakeholder(defaultAccount[0]);\n    } else {\n      [isStakeHolder, stakeId] = await contract.isStakeholder(defaultAccount);\n    }\n\n    if (isStakeHolder == true) {\n      let stakeAmountBig = 0;\n\n      if (defaultAccount instanceof Array) {\n        stakeAmountBig = await contract.stakedTokens(defaultAccount[0]);\n      } else {\n        stakeAmountBig = await contract.stakedTokens(defaultAccount);\n      }\n\n      let stakeAmount = ethers.utils.formatUnits(stakeAmountBig, 18);\n      setStakeBalance(stakeAmount);\n    } else {\n      setStakeBalance(0);\n    }\n  };\n\n  const stakeHandler = async e => {\n    e.preventDefault();\n    let contractAddress = await contract.address; // let allowance = await contract.allowance(defaultAccount, contractAddress);\n    // let allowanceBalance = allowance / Math.pow(10, 18);\n    //let stakeAmount = parseInt(e.target.stakeAmount.value) * Math.pow(10, 18);\n    //let stakeAmountBig = ethers.BigNumber.from(e.target.stakeAmount.value);\n    //let stakeAmount = stakeAmountBig.mul(Math.pow(10, 18));\n\n    let stakeAmount = parseInt(e.target.stakeAmount.value);\n    let stakeAmountBig = ethers.utils.parseUnits(e.target.stakeAmount.value, 18); // let allowanceBig = ethers.utils.parseUnits(allowance.toString());\n\n    console.log(allowance, selfAllowance, parseInt(ethers.utils.formatUnits(stakeAmountBig, 0)));\n\n    if (parseInt(ethers.utils.formatUnits(stakeAmountBig, 0)) <= allowance && parseInt(ethers.utils.formatUnits(stakeAmountBig, 0)) <= selfAllowance) {\n      let txn = await contract.stakeToken(stakeAmountBig);\n      console.log(txn);\n      setTxnHash(\"Stake transaction confirmation hash: \" + txn.hash);\n    } else {\n      let approveSelftxn = await contract.approve(defaultAccount, stakeAmountBig);\n      let txn = await contract.approve(contractAddress, stakeAmountBig);\n      console.log(txn);\n      setTxnHash(\"Approval transaction confirmation hash: \" + txn.hash);\n    }\n  };\n\n  const unstakeHandler = async e => {\n    e.preventDefault();\n    let contractAddress = await contract.address;\n    let unstakeAmount = parseInt(e.target.unstakeAmount.value);\n    let unstakeAmountBig = ethers.utils.parseUnits(e.target.unstakeAmount.value, 18);\n\n    if (stakeBalance > unstakeAmount) {\n      let txn = await contract.unstakeToken(unstakeAmountBig);\n      console.log(txn);\n      setTxnHash(\"Unstake transaction confirmation hash: \" + txn.hash);\n      let t = await provider.getTransaction(txn);\n      console.log('test transaction');\n      console.log(t);\n    } else {\n      window.alert(\"You cannot unstake more tokens than you have staked...\");\n    }\n  };\n\n  useEffect(() => {\n    if (contract != null) {\n      approveOrStake();\n      getStakeBalance();\n    } else {\n      setApproveOrStake(\"Approve\");\n    }\n  }, [contract, defaultAccount]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: stakeHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Stake tokens \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"stakeAmount\",\n        min: \"0\",\n        step: \"0.001\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: ApproveOrStake\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Staked balance: \", stakeBalance]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: unstakeHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Unstake tokens \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Amount\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        id: \"unstakeAmount\",\n        min: \"0\",\n        step: \"0.001\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Unstake\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: txnHash\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Interactions, \"Whkefy/qoAmpTgnEDLfTVLKkWD4=\");\n\n_c = Interactions;\nexport default Interactions;\n\nvar _c;\n\n$RefreshReg$(_c, \"Interactions\");","map":{"version":3,"sources":["/Users/michaelyoung/repos/slugsite/src/Interactions.js"],"names":["React","useState","useEffect","ethers","Interactions","props","txnHash","setTxnHash","allowance","setAllowance","selfAllowance","setSelfAllowance","ApproveOrStake","setApproveOrStake","stakeBalance","setStakeBalance","contract","defaultAccount","provider","approveOrStake","contractAddress","address","allowanceBalance","Math","pow","selfAllowanceBalance","getStakeBalance","isStakeHolder","stakeId","Array","isStakeholder","stakeAmountBig","stakedTokens","stakeAmount","utils","formatUnits","stakeHandler","e","preventDefault","parseInt","target","value","parseUnits","console","log","txn","stakeToken","hash","approveSelftxn","approve","unstakeHandler","unstakeAmount","unstakeAmountBig","unstakeToken","t","getTransaction","window","alert"],"mappings":"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","sourcesContent":["import {React, useState, useEffect} from 'react'\nimport {ethers} from 'ethers'\n\nconst Interactions = (props) => {\n\n    const [txnHash, setTxnHash] = useState();\n\n    const [allowance, setAllowance] = useState();\n    const [selfAllowance, setSelfAllowance] = useState();\n    const [ApproveOrStake, setApproveOrStake] = useState();\n    const [stakeBalance, setStakeBalance] = useState();\n\n    let contract = props.contract.contract;\n    let defaultAccount = props.contract.defaultAccount;\n    let provider = props.contract.provider;\n    \n\n    const approveOrStake = async () => {\n        let contractAddress = await contract.address;\n        let allowance = await contract.allowance(defaultAccount, contractAddress);\n\n        let allowanceBalance = allowance * Math.pow(10, 18);\n        setAllowance(allowanceBalance);\n\n        let selfAllowance = await contract.allowance(defaultAccount, defaultAccount);\n        let selfAllowanceBalance = selfAllowance * Math.pow(10, 18);\n        setSelfAllowance(selfAllowanceBalance);\n\n        if (allowanceBalance > 0 && selfAllowanceBalance > 0){\n            setApproveOrStake(\"Stake\");\n        } else {\n            setApproveOrStake(\"Approve\");\n        }\n    }\n\n    const getStakeBalance = async () =>{\n        let isStakeHolder = false;\n        let stakeId = 0;\n        if (defaultAccount instanceof Array){\n            [isStakeHolder, stakeId] = await contract.isStakeholder(defaultAccount[0]);\n        } else {\n            [isStakeHolder, stakeId] = await contract.isStakeholder(defaultAccount);\n        }\n        \n        \n        if (isStakeHolder == true){\n            let stakeAmountBig = 0;\n            if (defaultAccount instanceof Array){\n                stakeAmountBig = await contract.stakedTokens(defaultAccount[0]);\n            } else {\n                stakeAmountBig = await contract.stakedTokens(defaultAccount);\n            }\n            \n            let stakeAmount = ethers.utils.formatUnits(stakeAmountBig, 18)\n            setStakeBalance(stakeAmount);\n        } else {\n            setStakeBalance(0);\n        }\n    }\n\n    const stakeHandler = async (e) => {\n        e.preventDefault();\n        let contractAddress = await contract.address;\n        // let allowance = await contract.allowance(defaultAccount, contractAddress);\n        // let allowanceBalance = allowance / Math.pow(10, 18);\n\n\n        //let stakeAmount = parseInt(e.target.stakeAmount.value) * Math.pow(10, 18);\n        //let stakeAmountBig = ethers.BigNumber.from(e.target.stakeAmount.value);\n        //let stakeAmount = stakeAmountBig.mul(Math.pow(10, 18));\n        let stakeAmount = parseInt(e.target.stakeAmount.value);\n        let stakeAmountBig = ethers.utils.parseUnits(e.target.stakeAmount.value, 18);\n        // let allowanceBig = ethers.utils.parseUnits(allowance.toString());\n        console.log(allowance,selfAllowance, parseInt(ethers.utils.formatUnits(stakeAmountBig,0)))\n\n        if (parseInt(ethers.utils.formatUnits(stakeAmountBig,0)) <= allowance && parseInt(ethers.utils.formatUnits(stakeAmountBig,0)) <= selfAllowance){\n\n            let txn = await contract.stakeToken(stakeAmountBig);\n            console.log(txn);\n\t\t    setTxnHash(\"Stake transaction confirmation hash: \" + txn.hash);\n\n        } else {\n            let approveSelftxn = await contract.approve(defaultAccount, stakeAmountBig);\n            let txn = await contract.approve(contractAddress, stakeAmountBig);\n            console.log(txn);\n\t\t    setTxnHash(\"Approval transaction confirmation hash: \" + txn.hash);\n        }\n    }\n\n    const unstakeHandler = async (e) => {\n        e.preventDefault();\n        let contractAddress = await contract.address;\n        let unstakeAmount = parseInt(e.target.unstakeAmount.value);\n        let unstakeAmountBig = ethers.utils.parseUnits(e.target.unstakeAmount.value, 18);\n\n        if (stakeBalance > unstakeAmount){\n            let txn = await contract.unstakeToken(unstakeAmountBig);\n            console.log(txn);\n            setTxnHash(\"Unstake transaction confirmation hash: \" + txn.hash);\n            let t = await provider.getTransaction(txn);\n            console.log('test transaction');\n            console.log(t);\n        } else {\n            window.alert(\"You cannot unstake more tokens than you have staked...\");\n        }\n        \n    }\n\n    useEffect(() =>{\n        if (contract != null){\n            approveOrStake();\n            getStakeBalance();\n        } else {\n            setApproveOrStake(\"Approve\");\n        }\n    },[contract, defaultAccount])\n\n    return (\n        <div>\n            <form onSubmit={stakeHandler}>\n                <h3>Stake tokens </h3>\n                <p>Amount</p>\n                <input type='number' id='stakeAmount' min='0' step='0.001'></input>\n                <button type='submit'>{ApproveOrStake}</button>\n            </form>\n            <div>\n                <h3>Staked balance: {stakeBalance}</h3>\n            </div>\n            <form onSubmit={unstakeHandler}>\n                <h3>Unstake tokens </h3>\n                <p>Amount</p>\n                <input type='number' id='unstakeAmount' min='0' step='0.001'></input>\n                <button type='submit'>Unstake</button>\n            </form>\n            <div>\n\t\t\t\t{txnHash}\n\t\t\t</div>\n        </div>\n\n    );\n\n}\n\nexport default Interactions;"]},"metadata":{},"sourceType":"module"}